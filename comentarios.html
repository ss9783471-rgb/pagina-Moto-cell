<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comentarios - Moto-Cell</title>
<link rel="stylesheet" href="estilo.css">
<style>
/* GENERAL */
* { margin:0; padding:0; box-sizing:border-box; font-family: 'Poppins', sans-serif; }
body { background: linear-gradient(135deg, #c40000, #830c0c); color:#fff; min-height:100vh; display:flex; flex-direction:column; justify-content:flex-start; }

/* HEADER */
header { text-align:center; padding:20px 0; }
header img { width:60px; }
header h1 { display:inline-block; color:#fff; margin-left:10px; font-size:32px; vertical-align:middle; }
header .inicio-btn { display:inline-block; margin-left:20px; padding:10px 22px; background:#fff; color:#c40000; font-weight:bold; border-radius:8px; text-decoration:none; transition:0.3s; }
header .inicio-btn:hover { background:#f2f2f2; transform:scale(1.05); }

/* TÍTULO */
h2 { text-align:center; margin:40px 0 20px 0; font-size:2.4rem; color:#fff; text-shadow:1px 1px 6px #000; }

/* ANIMACIONES */
.fade-in-up { opacity:0; transform:translateY(30px); animation:fadeUp 0.8s forwards; }
@keyframes fadeUp { to { opacity:1; transform:translateY(0); } }

/* FORMULARIO */
.form-tarjeta {
  max-width:650px; background:#fff; color:#333; margin:0 auto 60px auto; padding:50px; border-radius:25px;
  box-shadow:0 15px 40px rgba(0,0,0,0.35); transition:0.3s; text-align:center;
}
.form-tarjeta:hover { box-shadow:0 20px 50px rgba(0,0,0,0.4); }
.avatar-perfil { width:100px; height:100px; border-radius:50%; margin:0 auto 25px auto; border:3px solid #c40000; overflow:hidden; }
.avatar-perfil img { width:100%; height:100%; object-fit:cover; }

/* CAMPOS */
.form-tarjeta label { display:block; margin-bottom:8px; font-weight:600; color:#c40000; text-align:left; }
.form-tarjeta input, .form-tarjeta textarea, .form-tarjeta select, .form-tarjeta button {
  width:100%; padding:14px; margin-bottom:15px; border-radius:12px; border:1px solid #ccc; font-size:1rem;
}
.form-tarjeta textarea { resize:none; }

/* BOTÓN */
.form-tarjeta button {
  background: linear-gradient(135deg,#c40000,#ff1a1a); color:#fff; font-weight:bold; border:none; cursor:pointer; transition:0.3s;
}
.form-tarjeta button:hover { transform:translateY(-2px) scale(1.05); background: linear-gradient(135deg,#ff1a1a,#c40000); }

/* MENSAJE DE ÉXITO */
#mensajeExito { display:none; text-align:center; color:#2ecc71; font-weight:bold; font-size:1.1rem; margin-bottom:20px; }

/* LISTA DE COMENTARIOS */
.lista-comentarios { max-width:650px; margin:0 auto 60px auto; display:flex; flex-direction:column; gap:20px; }
.comentario-card {
  display:flex; gap:15px; background:#fff; color:#333; padding:25px; border-radius:25px;
  box-shadow:0 12px 35px rgba(0,0,0,0.25); align-items:flex-start; transition:0.3s;
  opacity:0; transform:translateY(20px); animation:fadeUp 0.6s forwards;
  position: relative;
}
.comentario-card:hover { transform:translateY(-3px); box-shadow:0 15px 45px rgba(0,0,0,0.3); }
.comentario-card .avatar { width:70px; height:70px; border-radius:50%; overflow:hidden; border:2px solid #c40000; flex-shrink:0; }
.comentario-card .avatar img { width:100%; height:100%; object-fit:cover; }
.comentario-card .contenido h3 { margin:0 0 5px; color:#c40000; font-size:1.3rem; }
.comentario-card .contenido .estrellas { color:#f1c40f; margin-bottom:8px; font-size:1.1rem; }
.comentario-card .contenido p { font-size:1rem; line-height:1.5; }
/* BOTÓN ELIMINAR */
.comentario-card .eliminar-btn {
  position:absolute;
  top:10px;
  right:10px;
  background:#c40000;
  color:#fff;
  border:none;
  border-radius:8px;
  padding:5px 10px;
  cursor:pointer;
  font-size:0.9rem;
  transition:0.3s;
}
.comentario-card .eliminar-btn:hover {
  background:#ff1a1a;
}

/* FOOTER */
footer { text-align:center; padding:15px; color:#fff; background:#000; font-size:0.9rem; }

/* RESPONSIVE */
@media(max-width:768px){
  .form-tarjeta, .lista-comentarios { width:90%; padding:30px; }
  .comentario-card { flex-direction:column; align-items:center; text-align:center; }
  .comentario-card .avatar { margin-bottom:10px; }
  .comentario-card .eliminar-btn { position:static; margin-top:10px; }
}
</style>
</head>
<body>

<header>
  <h1>Moto-Cell</h1>
  <a href="index.html" class="inicio-btn">Inicio</a>
</header>

<h2>Envía tu opinión</h2>

<section>
  <div class="form-tarjeta fade-in-up">
    <div class="avatar-perfil">
      <img src="fotoAvatar.png" id="avatarPreview" alt="Avatar Usuario">
    </div>
    <form id="formulario-comentario">
      <label for="nombre">Nombre</label>
      <input type="text" id="nombre" placeholder="Tu nombre" required>

      <label for="comentario">Comentario</label>
      <textarea id="comentario" rows="5" placeholder="Escribe tu opinión" required></textarea>

      <label for="estrellas">Calificación</label>
      <select id="estrellas" required>
        <option value="">Selecciona estrellas</option>
        <option value="5">★★★★★</option>
        <option value="4">★★★★☆</option>
        <option value="3">★★★☆☆</option>
        <option value="2">★★☆☆☆</option>
        <option value="1">★☆☆☆☆</option>
      </select>

      <button type="submit">Enviar Comentario</button>
      <p id="mensajeExito">¡Gracias! Tu comentario ha sido enviado a Moto-Cell.</p>
    </form>
  </div>
</section>

<div class="lista-comentarios" id="listaComentarios"></div>

<footer>
  <p>&copy; 2025 Moto-Cell. creador Sebastián Salazar</p>
</footer>

<script>
const formulario = document.getElementById('formulario-comentario');
const listaComentarios = document.getElementById('listaComentarios');
const mensajeExito = document.getElementById('mensajeExito');
const avatarPreview = document.getElementById('avatarPreview');

// Función para crear tarjeta de comentario
function crearComentarioCard({nombre, comentario, estrellas, fotoURL}, index){
  const div = document.createElement('div');
  div.classList.add('comentario-card', 'fade-in-up');
  div.dataset.index = index; // índice para eliminar
  div.innerHTML = `
    <div class="avatar"><img src="${fotoURL}" alt="Avatar ${nombre}"></div>
    <div class="contenido">
      <h3>${nombre}</h3>
      <div class="estrellas">${'★'.repeat(estrellas)+'☆'.repeat(5-estrellas)}</div>
      <p>${comentario}</p>
    </div>
    <button class="eliminar-btn">Eliminar</button>
  `;
  // Botón eliminar
  div.querySelector('.eliminar-btn').addEventListener('click', ()=>{
    eliminarComentario(index);
  });
  return div;
}

// Eliminar comentario
function eliminarComentario(index){
  let comentarios = JSON.parse(localStorage.getItem('comentariosEnviados')) || [];
  comentarios.splice(index,1);
  localStorage.setItem('comentariosEnviados', JSON.stringify(comentarios));
  cargarComentarios();
}

// Cargar comentarios
function cargarComentarios(){
  listaComentarios.innerHTML = '';
  const comentarios = JSON.parse(localStorage.getItem('comentariosEnviados')) || [];
  comentarios.forEach((c,i)=>{
    const div = crearComentarioCard(c,i);
    listaComentarios.appendChild(div);
  });
}

// FORMULARIO
formulario.addEventListener('submit', function(e){
  e.preventDefault();

  const nombre = document.getElementById('nombre').value.trim();
  const comentario = document.getElementById('comentario').value.trim();
  const estrellas = document.getElementById('estrellas').value;

  if(!nombre || !comentario || !estrellas) return;

  let fotoURL = avatarPreview.src || 'usuarios/avatar-default.png';

  // Guardar en localStorage
  let comentarios = JSON.parse(localStorage.getItem('comentariosEnviados')) || [];
  comentarios.unshift({nombre, comentario, estrellas, fotoURL});
  localStorage.setItem('comentariosEnviados', JSON.stringify(comentarios));

  cargarComentarios();

  mensajeExito.style.display = 'block';
  setTimeout(()=>{ mensajeExito.style.display = 'none'; }, 4000);

  formulario.reset();
  avatarPreview.src='usuarios/avatar-default.png';
});

// Cargar comentarios al iniciar
document.addEventListener('DOMContentLoaded', cargarComentarios);
</script>
</body>
</html>


